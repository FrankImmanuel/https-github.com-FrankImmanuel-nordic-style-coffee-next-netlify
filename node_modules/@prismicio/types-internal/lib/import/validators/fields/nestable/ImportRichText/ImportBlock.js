"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ImportBlock = void 0;
const tslib_1 = require("tslib");
const t = (0, tslib_1.__importStar)(require("io-ts"));
const function_1 = require("../../../../../validators/function");
const blocks_1 = require("./blocks");
const ImportBlock = (allowedBlockTypes) => (0, function_1.withCustomError)(t
    .type({
    type: (0, blocks_1.ImportBlockType)(allowedBlockTypes),
})
    .pipe(new t.Type("ImportBlock", (u) => t
    .union([blocks_1.ImportTextBlock, blocks_1.ImportImageBlock, blocks_1.ImportEmbedBlock])
    .is(u), (u, c) => {
    if (u.type === "image") {
        return blocks_1.ImportImageBlock.validate(u, c);
    }
    else if (u.type === "embed") {
        return blocks_1.ImportEmbedBlock.validate(u, c);
    }
    else {
        return blocks_1.ImportTextBlock.validate(u, c);
    }
}, t.identity)), () => "Rich text block must be an object");
exports.ImportBlock = ImportBlock;

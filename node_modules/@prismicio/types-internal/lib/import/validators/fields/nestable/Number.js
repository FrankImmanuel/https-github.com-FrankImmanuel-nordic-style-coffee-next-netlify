"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ImportNumber = void 0;
const tslib_1 = require("tslib");
const t = (0, tslib_1.__importStar)(require("io-ts"));
const validators_1 = require("../../../../validators");
const ImportContent_1 = require("../ImportContent");
const numberValue = (config) => validators_1.Number.pipe(new t.Type("ImportNumberValue", (u) => validators_1.Number.is(u), (n, c) => {
    const min = config === null || config === void 0 ? void 0 : config.min;
    const max = config === null || config === void 0 ? void 0 : config.max;
    if ((min !== undefined && n < min) || (max !== undefined && n > max)) {
        return t.failure(n, c, `The value must be between [${min !== undefined ? min : ""}, ${max !== undefined ? max : ""}]`);
    }
    return t.success(n);
}, t.identity));
const ImportNumber = (field) => (0, ImportContent_1.ImportContent)("Number", (0, validators_1.NullOrElse)(numberValue(field === null || field === void 0 ? void 0 : field.config)));
exports.ImportNumber = ImportNumber;

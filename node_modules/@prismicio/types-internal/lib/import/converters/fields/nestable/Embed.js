"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.embedConverter = void 0;
const common_1 = require("../../../../common");
const Objects_1 = require("../../../../utils/Objects");
const embedConverter = (field, embeds) => {
    if (field === null)
        return;
    const embed = (0, common_1.getEmbedOrThrow)(embeds)(field.embed_url);
    return (0, Objects_1.withOptionals)({
        embed_url: field.embed_url,
        type: embed.type,
        all: {
            embed_url: field.embed_url,
            ...embed,
        },
        __TYPE__: "EmbedContent",
    }, [
        ["version", embed.version],
        ["title", embed.title],
        ["author_name", embed.author_name],
        ["author_url", embed.author_url],
        ["provider_name", embed.provider_name],
        ["provider_url", embed.provider_url],
        ["cache_age", embed.cache_age],
        ["thumbnail_url", embed.thumbnail_url],
        ["thumbnail_width", embed.thumbnail_width],
        ["thumbnail_height", embed.thumbnail_height],
        ["html", embed.html],
    ]);
};
exports.embedConverter = embedConverter;

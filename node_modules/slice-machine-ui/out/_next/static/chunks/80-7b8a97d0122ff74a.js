(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{84449:function(e,n,i){"use strict";i.d(n,{Z:function(){return A}});var r,t,s=i(62230),o=i(85244),l=i(52322),a=i(2784),c=i(56580),d=i(75289),u=i(54132),x=i(951),p=i(75100),f=i(25812),h=i(77174),v=i(24340),g=i(90374),j=i(22710),m=i(99267),b=i(76473),C=i(75329),E=i(40432),F=function(e){var n=e.inputFile,i=e.handleFile,r=e.children,t=e.isDragActive;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.__,{htmlFor:"input-file",variant:"buttons.white",sx:{p:2,px:0,display:"flex",justifyContent:"center",width:200,alignItems:"center",flex:1},children:r||"Select file"}),(0,l.jsx)("input",{id:"input-file",type:"file",ref:n,style:{display:"none"},accept:C.nG.map(function(e){return"image/".concat(e)}).join(","),onChange:function(e){var n;i(null===(n=e.target.files)||void 0===n?void 0:n[0],t)}})]})},y=i(32665),w=i(3098),S=i(61931),D=function(){return(0,l.jsx)(d.kC,{variant:"boxes.centered",sx:{p:2,position:"absolute",height:"100%",width:"100%",background:"rgba(249, 248, 249, 0.7)",backdropFilter:"blur(5px)",zIndex:"1",pointerEvents:"none"},children:(0,l.jsxs)(d.kC,{variant:"boxes.centered",sx:{border:"1px dashed #6E56CF",height:"100%",width:"100%",borderRadius:"4px"},children:[(0,l.jsx)(k,{isActive:!0}),(0,l.jsx)(d.xv,{sx:{my:2},children:"Drop file here"}),(0,l.jsx)(d.xv,{variant:"secondary",children:"Maximum upload size file: 128Mb"})]})})},k=function(e){var n=e.isActive;return(0,l.jsx)(d.kC,{sx:{p:1,borderRadius:"50%",bg:n?"#F1EEFE":"#EDECEE",alignItems:"center",justifyContent:"center",width:"48px",height:"48px"},children:(0,l.jsx)(x.IEK,{style:{color:n?"#6E56CF":"#6F6E77",fontSize:"34px"}})})},I=function(e){var n=e.variationID,i=e.slice,r=e.imageTypes,t=void 0===r?C.nG:r,u=i.screenshots[n],x=(0,g.Z)().openToaster,p=(0,a.useState)(!1),f=p[0],h=p[1],v=(0,a.useState)(!1),I=v[0],R=v[1];(0,b.y1)(["meta+v","ctrl+v"],function(){N()},[n,i,]);var _,Z,M,H,O,z=(0,g.Z)().generateSliceCustomScreenshot,A=(0,c.v9)(function(e){return{isLoadingScreenshot:(0,y.hg)(e,w.z.GENERATE_SLICE_CUSTOM_SCREENSHOT)}}).isLoadingScreenshot,L=(Z=(_={onHandleFile:function(e,r){z(n,i,e,r?"dragAndDrop":"upload"),R(!1)}}).onHandleFile,M=(0,a.useRef)(null),{handleFile:H=function(e,n){e&&(Z(e,n),(null==M?void 0:M.current)&&(M.current.value=""))},inputFile:M,FileInputRenderer:F,fileInputProps:{inputFile:M,handleFile:H}}),T=L.FileInputRenderer,V=L.fileInputProps,P=function(e){if(e.size>128e6)return x("File is too big. Max file size: 128Mb.",E.Jf.ERROR);z(n,i,e,"dragAndDrop")},B="function"==typeof navigator.clipboard.read,N=(O=(0,j.Z)(function(){var e,n,i,r,s;return(0,m.__generator)(this,function(o){switch(o.label){case 0:if(!B)return[2];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,navigator.clipboard.read()];case 2:if(!(void 0!==(e=o.sent())[0])||!(void 0!==(n=e[0].types.find(function(e){return t.map(function(e){return"image/".concat(e)}).includes(e)}))))return[3,4];return[4,e[0].getType(n)];case 3:return i=o.sent(),r=new File([i],"file"),[2,P(r)];case 4:return[3,6];case 5:return s=o.sent(),console.error("Could not paste file",s),[3,6];case 6:return[2]}})}),function(){return O.apply(this,arguments)}),W=function(e){e.preventDefault(),h(!1);var n,i=null===(n=e.dataTransfer.files)||void 0===n?void 0:n[0];if(void 0!==i)return t.some(function(e){return"image/".concat(e)===i.type})?P(i):x("Only files of type ".concat(t.join(", ")," are accepted."),E.Jf.ERROR)},G=function(e){return function(n){n.preventDefault(),h(e)}},q=function(e){return function(n){n.preventDefault(),R(e)}};return(0,l.jsxs)(d.kC,{as:"form",variant:"boxes.centered",sx:{bg:"#F9F8F9",position:"relative",borderRadius:"6px",height:"320px"},onDragEnter:G(!0),onDragLeave:G(!1),onDragOver:G(!0),onMouseEnter:q(!0),onMouseLeave:q(!1),onSubmit:function(e){return e.preventDefault()},onDrop:W,children:[A?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.$j,{}),(0,l.jsx)(d.xv,{sx:{my:2},children:"Uploading file ..."})]}):null,A||void 0===u?null:(0,l.jsx)(S.q,{src:u.url,sx:{width:"100%",height:"100%",maxHeight:"100%",backdropFilter:"blur(5px)"}}),A?null:(0,l.jsx)(d.kC,{sx:{p:2,position:"absolute",width:"100%",height:"100%",borderRadius:"6px",background:"#F9F8F9B2",justifyContent:"center",alignItems:"center",visibility:I||void 0===u?"visible":"hidden"},children:(0,l.jsx)(d.kC,{variant:"boxes.centered",sx:{border:"1px dashed #6E56CF",height:"100%",width:"100%",borderRadius:"4px"},children:(0,l.jsxs)(d.kC,{sx:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,l.jsx)(k,{isActive:f}),(0,l.jsx)(d.xv,{sx:{my:2},children:B?"Paste, drop or ...":"Drop or ..."}),(0,l.jsx)(T,(0,o.Z)((0,s.Z)({},V),{isDragActive:f})),(0,l.jsx)(d.xv,{sx:{color:"greyIcon",mt:1},children:"Maximum file size: 128Mb"})]})})}),f?(0,l.jsx)(D,{}):null]})},R=function(e){return(0,l.jsxs)("svg",(0,o.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_5065_192538)",children:[(0,l.jsx)("path",{d:"M9.66862 19.9993C11.1406 19.9993 12.3353 18.8047 12.3353 17.3327V14.666H9.66862C8.19662 14.666 7.00195 15.8607 7.00195 17.3327C7.00195 18.8047 8.19662 19.9993 9.66862 19.9993Z",fill:"#0ACF83"}),(0,l.jsx)("path",{d:"M7.00195 12.0007C7.00195 10.5287 8.19662 9.33398 9.66862 9.33398H12.3353V14.6673H9.66862C8.19662 14.6673 7.00195 13.4727 7.00195 12.0007Z",fill:"#A259FF"}),(0,l.jsx)("path",{d:"M7.00195 6.66667C7.00195 5.19467 8.19662 4 9.66862 4H12.3353V9.33333H9.66862C8.19662 9.33333 7.00195 8.13867 7.00195 6.66667Z",fill:"#F24E1E"}),(0,l.jsx)("path",{d:"M12.334 4H15.0007C16.4727 4 17.6673 5.19467 17.6673 6.66667C17.6673 8.13867 16.4727 9.33333 15.0007 9.33333H12.334V4Z",fill:"#FF7262"}),(0,l.jsx)("path",{d:"M17.6673 12.0007C17.6673 13.4727 16.4727 14.6673 15.0007 14.6673C13.5287 14.6673 12.334 13.4727 12.334 12.0007C12.334 10.5287 13.5287 9.33398 15.0007 9.33398C16.4727 9.33398 17.6673 10.5287 17.6673 12.0007Z",fill:"#1ABCFE"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_5065_192538",children:(0,l.jsx)("rect",{width:"10.6688",height:"16",fill:"white",transform:"translate(7 4)"})})})]}))};(t=r||(r={})).Mac="Mac",t.Linux="Linux",t.Windows="Windows";var _=function(){var e=navigator.userAgent,n=r.Linux;return Object.values(r).forEach(function(i){e.includes(i)&&(n=i)}),n};i(61213);var Z=function(e){var n=e.children;return(0,l.jsx)("kbd",{className:"_1nkpwww0 _1ecs97dfhg _1ecs97da62 _1ecs97dadf _1ecs97d18 _1ecs97d8l _1ecs97d3fg _1ecs97d3mt _1ecs97df23 _1ecs97df2h",children:n})},M=function(){var e,n=[r.Windows,r.Linux].includes(_())?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z,{children:"ctrl"})," + ",(0,l.jsx)(Z,{children:"shift"})," + ",(0,l.jsx)(Z,{children:"c"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z,{children:"cmd"})," + ",(0,l.jsx)(Z,{children:"shift"})," + ",(0,l.jsx)(Z,{children:"c"})]});return(0,l.jsxs)(d.kC,{sx:{pl:"4px",alignItems:"center",color:"#000",borderRadius:"6px",fontSize:"12px",lineHeight:"24px",border:"1px solid #E4E2E4",boxShadow:"0px 1px 0px 0px rgba(0, 0, 0, 0.04)",width:"100%",minHeight:"40px"},children:[(0,l.jsx)(R,{}),(0,l.jsxs)("div",{children:["Use\xa0",n," to copy any frame as .png, then just paste it here"]})]})},H=function(e){var n=e.isValid;return(0,l.jsx)(d.kC,{sx:{p:2,border:"1px solid #E4E2E4",borderRadius:"6px",bg:"#FFF"},children:n?(0,l.jsx)(x.Ypm,{style:{fontSize:"16px"}}):(0,l.jsx)(p.j6O,{style:{fontSize:"16px",color:"#ED811C"}})})},O=function(e){var n=e.slice,i=e.onSelectVariation,r=e.variationSelector;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.X6,{as:"h4",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.model.name}),(0,l.jsx)(d.xu,{children:(0,l.jsx)(d.xu,{as:"ul",sx:{pl:0,my:3},children:n.model.variations.map(function(e){var t=r.sliceID,a=r.variationID,c=t===n.model.id&&a===e.id;return(0,l.jsx)(d.xu,{as:"li",sx:(0,o.Z)((0,s.Z)({listStyle:"none",my:2,p:2,cursor:"pointer",borderRadius:"4px"},c&&{bg:"#EDECEE",fontWeight:"500"}),{":hover":{bg:"#EDECEE"}}),onClick:function(){return i({sliceID:n.model.id,variationID:e.id})},children:(0,l.jsxs)(d.kC,{sx:{alignItems:"center"},children:[(0,l.jsx)(H,{isValid:!!n.screenshots[e.id]}),(0,l.jsx)(d.xv,{sx:{ml:2},children:e.name})]})},"".concat(n.model.id,"-").concat(e.id))})})})]})},z=function(e,n){return e||(n.length?{sliceID:n[0].model.id,variationID:n[0].model.variations[0].id}:void 0)},A=function(e){var n=e.slices,i=e.defaultVariationSelector,r=(0,g.Z)().closeModals,t=(0,c.v9)(function(e){return{isOpen:(0,h.gP)(e,v.q.SCREENSHOTS)}}).isOpen,s=(0,a.useState)(z(i,n)),o=s[0],x=s[1];if((0,a.useEffect)(function(){x(z(i,n))},[null==i?void 0:i.sliceID,null==i?void 0:i.variationID,t,]),0===n.length||!o)return null;var p,j="function"==typeof navigator.clipboard.read;return(0,l.jsx)(f.Z,{isOpen:t,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return r()},children:(0,l.jsx)(u.Z,{radius:"0px",bodySx:{p:0,bg:"#FFF",position:"relative"},sx:{border:"none"},Header:function(e){var n=e.radius;return(0,l.jsxs)(d.kC,{sx:{position:"sticky",top:0,zIndex:1,background:"gray",p:"16px",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:[(0,l.jsx)(d.X6,{sx:{fontSize:"20px"},children:"Slice screenshots"}),(0,l.jsx)(d.x8,{type:"button",onClick:function(){return r()}})]})},Footer:null,children:(0,l.jsxs)(d.xu,{sx:{display:"flex",flexWrap:"wrap",height:"100%"},children:[(0,l.jsx)(d.xu,{sx:{p:3,bg:"grey07",flexGrow:1,overflow:"auto",maxHeight:"100%",flexBasis:"sidebar"},children:n.map(function(e,n){return(0,l.jsx)(O,{slice:e,variationSelector:o,onSelectVariation:x},"".concat(e.model.id,"-").concat(n))})}),(0,l.jsxs)(d.kC,{as:"main",sx:{p:3,flexGrow:99999,flexBasis:0,flexDirection:"column",minWidth:320,gap:"8px"},children:[j?(0,l.jsx)(M,{}):void 0,(p=n.find(function(e){return e.model.id===o.sliceID}))?(0,l.jsx)(I,{variationID:o.variationID,slice:p}):null]})]})})})}},61931:function(e,n,i){"use strict";i.d(n,{q:function(){return c}});var r=i(62230),t=i(52322),s=i(2784),o=i(75289),l=i(65186),a=(0,s.memo)(function(e){var n=e.src;return(0,t.jsx)(o.Ee,{src:n,alt:"Preview image",sx:{maxHeight:"100%"}})}),c=function(e){var n=e.src,i=e.sx;return(0,t.jsx)(o.kC,{sx:(0,r.Z)({position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundImage:"url(/pattern.png)",backgroundColor:"headSection",backgroundRepeat:"repeat",backgroundSize:"20px",borderRadius:"4px"},i),children:void 0!==n?(0,t.jsx)(a,{src:n}):(0,t.jsxs)(o.xv,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(l.eJU,{}),"You have no screenshot yet."]})})}},47731:function(e,n,i){"use strict";i.d(n,{H:function(){return s}});var r=i(2784),t=i(90374),s=function(){var e=(0,t.Z)().openScreenshotsModal,n=(0,r.useState)({sliceFilterFn:function(e){return e}}),i=n[0],s=n[1];return{modalPayload:i,onOpenModal:function(n){s(n),e()}}}},61213:function(){}}]);
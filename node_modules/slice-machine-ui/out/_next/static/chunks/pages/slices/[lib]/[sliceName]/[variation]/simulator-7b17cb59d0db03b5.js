(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{30755:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slices/[lib]/[sliceName]/[variation]/simulator",function(){return t(23261)}])},56577:function(e,n,t){"use strict";t.d(n,{z:function(){return d}});var r=t(62230),i=t(85244),o=t(98240),s=t(52322),c=t(2784),a=t(75289),l=function(e,n){return e?"".concat(e,"-").concat(n):""},u=function(e){switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},d=(0,c.forwardRef)(function(e,n){var t=e.label,c=e.Icon,d=e.type,x=e.form,f=e.isLoading,h=void 0!==f&&f,p=e.disabled,v=e.onClick,m=e.sx,g=e.iconSize,b=void 0===g?16:g,C=e.iconFill,j=e.variant,S=void 0===j?"primary":j,k=(0,o.Z)(e,["label","Icon","type","form","isLoading","disabled","onClick","sx","iconSize","iconFill","variant"]);return(0,s.jsx)(a.zx,(0,i.Z)((0,r.Z)({ref:n,sx:(0,r.Z)((0,i.Z)((0,r.Z)({},void 0===m?{}:m),{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}),h?{cursor:"wait !important"}:{}),type:d,form:x,disabled:void 0!==p&&p||h,onClick:h?void 0:v,variant:S},k),{children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.$j,{size:b,color:u(S),"data-cy":l(k["data-cy"],"spinner")}),c&&t]}):(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(c,{size:b,fill:C,"data-cy":l(k["data-cy"],"icon")}),t]})}))})},61931:function(e,n,t){"use strict";t.d(n,{q:function(){return l}});var r=t(62230),i=t(52322),o=t(2784),s=t(75289),c=t(65186),a=(0,o.memo)(function(e){var n=e.src;return(0,i.jsx)(s.Ee,{src:n,alt:"Preview image",sx:{maxHeight:"100%"}})}),l=function(e){var n=e.src,t=e.sx;return(0,i.jsx)(s.kC,{sx:(0,r.Z)({position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundImage:"url(/pattern.png)",backgroundColor:"headSection",backgroundRepeat:"repeat",backgroundSize:"20px",borderRadius:"4px"},t),children:void 0!==n?(0,i.jsx)(a,{src:n}):(0,i.jsxs)(s.xv,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(c.eJU,{}),"You have no screenshot yet."]})})}},23261:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eS}});var r,i,o,s,c=t(52322),a=t(97729),l=t.n(a),u=t(62230),d=t(85244),x=t(2784),f=t(71463),h=t(22715),p=t(75289),v=t(65077),m=t(5632),g=t.n(m),b=t(56577),C=t(19909),j=function(e){var n=e.defaultValue,t=e.variations,r=e.MenuItemAction,i=e.onChange;return(0,c.jsxs)(p.xu,{sx:{py:0,flexDirection:"column",backgroundColor:"headSection",overflow:"auto",display:"flex",borderRadius:"4px",border:function(e){var n;return"1px solid ".concat(null===(n=e.colors)||void 0===n?void 0:n.borders)},boxShadow:"0 10px 10px rgba(0, 0, 0, 0.05)",maxHeight:340,minWidth:250,maxWidth:350,color:"text"},children:[(0,c.jsxs)(p.xv,{sx:{p:3,fontSize:12,color:"textClear"},children:[t.length," VARIATION",t.length>1?"S":""]}),(0,c.jsxs)(p.kC,{sx:{p:0,flexDirection:"column"},children:[t.map(function(e){return(0,c.jsx)(S,{value:e,isActive:e.id===n.id,onClick:i},e.id)}),r||null]})]})},S=function(e){var n=e.value,t=e.isActive,r=e.onClick;return(0,c.jsx)(p.xu,{sx:{px:3,py:2,color:t?"primary":"",cursor:"pointer",borderLeft:function(e){var n=e.colors;return"2px solid ".concat(t?null==n?void 0:n.primary:null==n?void 0:n.background)},borderRadius:0,bg:"background",":hover":{bg:"hoverBackground",borderLeft:function(e){var n=e.colors;return"2px solid ".concat(null==n?void 0:n.primary)}}},onClick:function(){return r(n)},children:n.name})},k=t(75100),y=function(e){var n=e.buttonSx,t=e.defaultValue,r=e.variations,i=e.onNewVariation,o=e.onChange,s=e.sx,a=e.disabled,l=(0,x.useState)(!1),d=l[0],f=l[1],h=(0,x.useState)(t||r[0]),v=h[0],m=h[1];(0,x.useEffect)(function(){t&&m(t)},[t]);var g=function(e){f(!1),m(e),setTimeout(function(){return o(e)},210)},b=(0,c.jsx)(p.xu,{sx:{p:2},children:(0,c.jsx)(p.zx,{variant:"transparent",sx:{color:"text"},onClick:function(){f(!1),i&&i()},children:"+ Add new variation"})});return(0,c.jsx)(p.xu,{sx:s,children:(0,c.jsx)(C.Popover,{align:"start",isOpen:d,onClickOutside:function(){return f(!1)},positions:["bottom"],padding:10,content:function(){return(0,c.jsx)(j,{defaultValue:v,variations:r,onChange:g,MenuItemAction:i?b:void 0})},containerClassName:"variationSelectorContainer",children:(0,c.jsxs)(p.zx,{sx:(0,u.Z)({},n),variant:"dropDownButton",onClick:function(){return f(!d)},disabled:a,children:[v.name," ",d?(0,c.jsx)(k.bOz,{size:"16px","aria-label":"Collapse variations"}):(0,c.jsx)(k.mEq,{size:"16px","aria-label":"Expand variations"})]})})})},E=function(e){return(0,c.jsxs)("svg",(0,d.Z)((0,u.Z)({viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3304 19.693C50.9182 18.9787 50.2527 18.6526 50.2527 18.6526L64.7906 10.2077C65.5266 9.78011 66.4679 10.0339 66.8929 10.7745C67.3179 11.5151 67.0657 12.4622 66.3294 12.8898L52.639 20.8424C52.639 20.8424 51.7428 20.4072 51.3304 19.693Z",fill:"current"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6775 54.7814C58.0794 48.7394 61.6433 35.3572 55.6378 24.8917C54.7801 23.397 53.7736 22.0427 52.6481 20.8367L32.9428 32.2832C32.2068 32.7108 31.2655 32.457 30.8405 31.7165C30.4155 30.9757 30.6677 30.0287 31.4039 29.6011L50.2693 18.6425C43.486 13.2668 33.8645 12.2736 25.9299 16.8827C15.5282 22.9249 11.9642 36.3071 17.9697 46.7727C18.8274 48.2671 19.8339 49.6216 20.9595 50.8276L41.1791 39.0822C41.9151 38.6546 42.8564 38.9086 43.2814 39.6492C43.7064 40.3897 43.4542 41.3368 42.7182 41.7644L23.3384 53.0217C30.1217 58.3975 39.7432 59.3906 47.6775 54.7814Z",fill:"current"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.20645 61.7656C4.78145 61.0248 5.03367 60.078 5.76978 59.6502L20.9371 50.8398C20.9371 50.8398 21.8578 51.2406 22.3053 51.7062C22.7528 52.1717 23.361 53.0078 23.361 53.0078L7.30887 62.3323C6.57274 62.7599 5.63144 62.5061 5.20645 61.7656Z",fill:"current"})]}))},w=t(56580),I=t(52039),_=function(e,n,t){if(!n){g().push("/".concat(e.href,"/").concat(e.model.name));return}var r,i,o,s,c,a,l,u,d,x=(i=(r={lib:e.href,sliceName:e.model.name,variationId:null==n?void 0:n.id,isSimulator:t}).lib,o=r.sliceName,s=r.variationId,a=void 0===(c=r.options)?{}:c,l=r.isSimulator,u="/slices/[lib]/[sliceName]/[variation]".concat(l?"/simulator":""),d="/slices/".concat(i,"/").concat(o,"/").concat(s).concat(l?"/simulator":""),{href:u,as:d,options:a,all:[u,d,a]});g().push(x.href,x.as,x.options)},D=function(e){var n=e.slice,t=e.variation,r=e.isDisplayEditor,i=e.toggleIsDisplayEditor,o=e.onSaveMock,s=e.actionsDisabled,a=(0,w.v9)(function(e){return{savingMock:(0,I.S3)(e)}}).savingMock;return(0,c.jsxs)(p.kC,{sx:{p:"16px",display:"flex",bg:"grey07",gridTemplateRows:"1fr",borderBottom:"1px solid #DCDBDD",justifyContent:"space-between"},children:[(0,c.jsxs)(p.kC,{sx:{alignItems:"center"},children:[(0,c.jsx)(E,{height:"20px",width:"20px",fill:"#1A1523"}),(0,c.jsx)(p.xv,{sx:{ml:2,mr:"12px",fontSize:"14px",color:"#1A1523",fontWeight:"600",letterSpacing:"-0.15px"},children:n.model.name}),(0,c.jsx)(y,{defaultValue:t,variations:n.model.variations,onChange:function(e){return _(n,e,!0)},disabled:n.model.variations.length<=1||s})]}),(0,c.jsxs)(p.kC,{sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsx)(p.kC,{sx:{alignItems:"center",justifyContent:"space-around"},children:(0,c.jsxs)(p.kC,{sx:{alignItems:"center",mr:4},children:[(0,c.jsx)(p.__,{htmlFor:"show-mock-editor",sx:{color:"#6F6E77",lineHeight:"16px",fontSize:"12px",fontWeight:"600",letterSpacing:"0px"},children:"Editor"}),(0,c.jsx)(p.rs,{id:"show-mock-editor",checked:r,onChange:i,disabled:s})]})}),(0,c.jsx)(b.z,{"data-cy":"save-mock",onClick:o,label:"Save mock content",disabled:a||s,variant:"primary",sx:{borderRadius:"6px",color:"#F1EEFE",fontWeight:"bold",border:"1px solid #5842C3",backgroundColor:"#6E56CF",boxShadow:"0px 1px 0px rgba(0, 0, 0, 0.04)","&:hover":{"&:not([disabled])":{backgroundColor:"#5842C3"}}}})]})]})},Z=t(82770),F=t(39092),R=function(e){var n=e.defaultValue,t=e.options,r=e.onChange;return(0,c.jsx)(p.xu,{sx:{py:0,flexDirection:"column",backgroundColor:"headSection",overflow:"auto",display:"flex",borderRadius:"6px",border:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorder))},boxShadow:"0 10px 10px rgba(0, 0, 0, 0.05)",maxHeight:340,minWidth:180,maxWidth:350,color:"text"},children:(0,c.jsx)(p.kC,{sx:{p:0,flexDirection:"column"},children:t.map(function(e){return(0,c.jsx)(z,{value:e,isActive:e===n,onClick:r})})})})},z=function(e){var n=e.value,t=e.isActive,r=e.onClick;return(0,c.jsx)(p.xu,{sx:{p:2,cursor:"pointer",fontSize:"14px",borderRadius:0,bg:t?"hoverBackground":"background",":hover":{bg:"hoverBackground"}},onClick:function(){return r(n)},children:n})},N=function(e){var n=e.buttonSx,t=e.currentValue,r=e.options,i=e.onChange,o=e.disabled,s=(0,x.useState)(!1),a=s[0],l=s[1],u=function(e){l(!1),setTimeout(function(){return i(e)},210)};return(0,c.jsx)(p.xu,{children:(0,c.jsx)(C.Popover,{align:"start",isOpen:a,onClickOutside:function(){return l(!1)},positions:["bottom"],padding:2,content:function(){return(0,c.jsx)(R,{defaultValue:t,options:r,onChange:u})},children:(0,c.jsxs)(p.zx,{sx:n,variant:"dropDownButton",onClick:function(){return l(!a)},disabled:o,children:[t," ",a?(0,c.jsx)(k.bOz,{size:"24px"}):(0,c.jsx)(k.mEq,{size:"24px"})]})})})},O=t(67557);(s=r||(r={})).DESKTOP="Desktop",s.TABLET="Tablet",s.MOBILE="Mobile",s.CUSTOM="Custom";var T=(i={},(0,O.Z)(i,r.DESKTOP,{width:1280,height:800}),(0,O.Z)(i,r.TABLET,{width:1080,height:810}),(0,O.Z)(i,r.MOBILE,{width:390,height:844}),i),A=function(e){var n=e.label,t=e.startValue,r=e.onChange,i=e.sx,o=e.disabled,s=["e","-","+",",","."];return(0,c.jsxs)(p.kC,{sx:(0,u.Z)({alignItems:"center"},i),children:[(0,c.jsx)(p.__,{sx:{backgroundColor:"grey07",border:"transparent",borderRight:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorder))},borderRadius:"6px 0px 0px 6px",width:26,height:30,color:"greyIcon",fontWeight:"bold",fontSize:"14px",alignItems:"center",justifyContent:"center",position:"absolute",ml:"1px"},htmlFor:"".concat(n,"-screensize-input"),children:n}),(0,c.jsx)(p.II,{type:"number",name:"".concat(n,"-screensize-input"),disabled:o,sx:{width:80,height:32,p:0,border:"1px solid #E4E2E4",borderRadius:"6px","&::-webkit-outer-spin-button,&::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},color:"greyIcon",textAlign:"center",paddingLeft:26,"&:disabled":{cursor:"not-allowed","&:hover":{border:"1px solid #E4E2E4"},"&:active":{border:"1px solid #E4E2E4",boxShadow:"none"}}},onChange:r,value:t,min:"0",onKeyDown:function(e){s.includes(e.key)&&e.preventDefault()}})]})},L=function(e){var n=e.handleScreenSizeChange,t=e.screenDimensions,i=e.actionsDisabled,o=(0,x.useState)(r.DESKTOP),s=o[0],a=o[1],l=function(e){a(e),e!==r.CUSTOM&&n(T[e])},f=function(e){var t=Object.values(T).findIndex(function(n){return JSON.stringify(n)===JSON.stringify(e)}),i=t<0?r.CUSTOM:Object.keys(T)[t];a(i),n(e)};return(0,c.jsx)(p.kC,{sx:{alignItems:"center",pb:"16px",justifyContent:"space-between",variant:"small"},children:(0,c.jsxs)(p.kC,{sx:{alignItems:"center",flex:1},children:[(0,c.jsx)(N,{options:Object.values(r),onChange:l,buttonSx:{alignSelf:"start"},currentValue:s,disabled:i}),(0,c.jsx)(A,{label:"W",startValue:t.width.toString(),onChange:function(e){f((0,d.Z)((0,u.Z)({},t),{width:Number(e.target.value)}))},disabled:i,sx:{mx:2}}),(0,c.jsx)(k.eSQ,{size:16,color:"#6F6E77"}),(0,c.jsx)(A,{label:"H",startValue:t.height.toString(),onChange:function(e){f((0,d.Z)((0,u.Z)({},t),{height:Number(e.target.value)}))},disabled:i,sx:{ml:2}})]})})},M=t(25812),U=t(77174),P=t(24340),W=t(90374),B=t(54132),H=t(61931),V=function(e){var n=e.sliceName,t=e.screenshotUrl,r=(0,w.v9)(function(e){return{isScreenshotModalOpen:(0,U.gP)(e,P.q.SCREENSHOT_PREVIEW)}}).isScreenshotModalOpen,i=(0,W.Z)().closeModals;return(0,c.jsx)(M.Z,{isOpen:r,shouldCloseOnOverlayClick:!0,contentLabel:"Screenshot Preview",portalClassName:"ScreenshotPreviewModal",onRequestClose:i,children:(0,c.jsx)(B.Z,{radius:"0px",bodySx:{p:0,bg:"#FFF",position:"relative",height:"100%",padding:16},footerSx:{position:"sticky",bottom:0,p:0},sx:{border:"none"},Header:function(){return(0,c.jsxs)(p.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",alignItems:"center",justifyContent:"space-between",borderBottom:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:[(0,c.jsxs)(p.X6,{sx:{fontSize:"14px"},children:["Screenshot Preview for ",n]}),(0,c.jsx)(p.x8,{type:"button",onClick:function(){return i()}})]})},Footer:function(){return(0,c.jsx)(p.kC,{style:{justifyContent:"flex-end",height:64,alignItems:"center",paddingRight:16,borderTop:"1px solid #DCDBDD"},children:(0,c.jsx)(p.zx,{variant:"secondary",sx:{fontWeight:600},onClick:function(){return i()},children:"Close"})})},children:(0,c.jsx)(H.q,{src:t,sx:{height:"320px"}})})})},q=t(25242),X=t(81541),G=function(e,n,t){var r=(0,x.useState)(e()),i=r[0],o=r[1],s=(0,x.useRef)(Date.now());return(0,x.useEffect)(function(){var t=setTimeout(function(){Date.now()-s.current>=n&&(o(e()),s.current=Date.now())},n-(Date.now()-s.current));return function(){clearTimeout(t)}},[n].concat((0,X.Z)(t))),i},K=t(22710),Y=t(17064),J=t(99267),Q=t(16),$=function(e){var n,t,r,i,o,s,a,l=e.apiContent,d=e.screenDimensions,f=e.simulatorUrl,h=e.dryRun,v=e.isScreenshot,m=void 0!==v&&v,g=(0,Y.Z)((t=(n=(0,x.useState)())[0],r=n[1],i=(0,x.useRef)(),o=(0,x.useRef)(),a=(0,x.useCallback)((s=(0,K.Z)(function(e){var n,t,s,c;return(0,J.__generator)(this,function(a){switch(a.label){case 0:if(null===(n=i.current)||void 0===n||n.disconnect(),null===(t=o.current)||void 0===t||t.disconnect(),r(void 0),!(null!=e))return[3,4];i.current=new Q.SH(e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.current.connect()];case 2:var l;return a.sent(),r(i.current),l=(0,K.Z)(function(){var e;return(0,J.__generator)(this,function(n){switch(n.label){case 0:return r(void 0),[4,null===(e=i.current)||void 0===e?void 0:e.connect({},!0)];case 1:return n.sent(),r(i.current),[2]}})}),s=function(){return l.apply(this,arguments)},o.current=new MutationObserver(function(e){e.forEach(function(e){"src"===e.attributeName&&s().catch(function(e){throw e})})}),o.current.observe(e,{attributeFilter:["src"]}),[3,4];case 3:return c=a.sent(),console.error(c),[3,4];case 4:return[2]}})}),function(e){return s.apply(this,arguments)}),[]),[t,a]),2),b=g[0],C=g[1],j=(0,W.Z)(),S=j.connectToSimulatorSuccess,k=j.connectToSimulatorFailure;(0,x.useEffect)(function(){var e;if(!f){k();return}if(void 0!==b){if(!b.connected){k(),console.warn("Trying to use a disconnected simulator client.");return}(e=(0,K.Z)(function(){return(0,J.__generator)(this,function(e){switch(e.label){case 0:return[4,b.setSliceZone([l])];case 1:return e.sent(),[2]}})}),function(){return e.apply(this,arguments)})().then(function(){S()}).catch(function(){k()})}},[b,l,f]);var y,E,w,I,_,D,Z,F,R,z=(0,x.useState)(),N=z[0],O=z[1],T=(y=function(e){var n;O({height:e.blockSize,width:e.inlineSize})},w=(0,x.useRef)(),(0,x.useCallback)(function(e){var n;null===(n=w.current)||void 0===n||n.disconnect(),null!==e&&(w.current=new ResizeObserver(function(n){var t,r=(0,Y.Z)(n,1)[0].contentRect;y({blockSize:r.height,inlineSize:r.width},e)}),w.current.observe(e))},[]));return(0,c.jsx)(p.kC,{ref:T,sx:(0,u.Z)({alignItems:"center",backgroundColor:"headSection",backgroundImage:"url(/pattern.png)",backgroundRepeat:"repeat",backgroundSize:"10px",border:m?void 0:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorder))},borderRadius:m?void 0:8,display:"flex",height:"100%",justifyContent:"center",overflow:"hidden"},void 0!==h&&h?{display:"none"}:{}),children:f?(0,c.jsx)("iframe",{ref:C,src:f,style:(0,u.Z)({border:"none",maxHeight:"".concat(d.height,"px"),maxWidth:"".concat(d.width,"px"),minHeight:"".concat(d.height,"px"),minWidth:"".concat(d.width,"px"),overflowY:"auto"},N?{transform:"scale(".concat((I=d,_=N,D=I.height,Z=I.width,F=_.height,R=_.width,Z>R||D>F?Z-R>D-F?R/Z:F/D:1),")")}:{display:"none"})}):null})},ee=function(e){var n=e.children,t=e.sx;return(0,c.jsx)(p.kC,{sx:(0,u.Z)({bg:"grey07",height:"90%",width:"100%",justifyContent:"center",alignItems:"center",zIndex:"1"},t),children:(0,c.jsx)(p.kC,{sx:{marginTop:"-128px",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:n})})},en=t(85819),et=function(e){var n=e.onRetrigger;return(0,c.jsxs)(ee,{children:[(0,c.jsx)(p.Ee,{src:"/iframe-not-running.png",sx:{width:"320px"}}),(0,c.jsx)(p.xv,{sx:{color:"textClear",mb:2,fontSize:"14px",lineHeight:"24px",fontWeight:"600"},children:"Slice Machine can't render your Slice"}),(0,c.jsxs)(p.xv,{sx:{color:"failedConnectText",maxWidth:"400px",textAlign:"center",fontSize:"12px",lineHeight:"22px"},children:["Ensure your website's development server is running by typing",(0,c.jsx)("br",{}),(0,c.jsx)(p.xv,{as:"code",variant:"styles.inlineCode",sx:{padding:"4px",borderRadius:"6px"},children:"npm run dev"}),"\xa0 in your terminal at the root of your website directory.",(0,c.jsx)("br",{})," If that doesn't work, see the\xa0",(0,c.jsx)(p.rU,{target:"_blank",href:"https://prismic.io/docs/slice-machine",sx:{color:"link"},children:"troubleshooting instructions."})]}),(0,c.jsx)(b.z,{onClick:n,label:"Refresh",Icon:en.Fer,iconSize:20,iconFill:"#6F6E77",variant:"secondaryMedium",sx:{mt:"16px"}})]})},er=t(98240),ei=t(92928),eo=t(33402),es=t(59326),ec=t(86741),ea=t(65186),el=function(e){var n=e.children;return(0,c.jsx)(p.xu,{as:"code",sx:{bg:"rgba(0, 0, 0, 0.05)",borderRadius:3,padding:"2px 4px"},children:n})},eu=function(e){var n,t=e.children,r=(0,er.Z)(e,["children"]),i=(0,es.B7)().theme,o=(0,x.useState)(!1),s=o[0],a=o[1],l=(0,x.useRef)(null),f=function(){l.current&&navigator.clipboard.writeText(l.current.innerText).then(function(){a(!0),setTimeout(function(){a(!1)},1200)}).catch(function(){})};return(0,c.jsxs)(p.xu,(0,d.Z)((0,u.Z)({},r),{sx:{backgroundColor:"codeBlockBackground",borderRadius:8},children:[(0,c.jsxs)(p.kC,{sx:{px:"26px",py:"22px",color:"#FFF",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(111, 110, 119, 0.2)"},children:[(0,c.jsx)(p.kC,{sx:{alignItems:"center"}}),(0,c.jsxs)(p.zx,{onClick:f,variant:"transparent",sx:{display:"flex",justifyContent:"center",alignItems:"center",p:0,fontSize:"12px",color:"#FFF"},children:["Copy\xa0",s?(0,c.jsx)(ea.HhX,{size:16,color:String(null==i?void 0:null===(n=i.colors)||void 0===n?void 0:n.success)}):(0,c.jsx)(ea.Fqs,{size:16,style:{marginLeft:"8px"}})]})]}),(0,c.jsx)(p.xu,{ref:l,as:"pre",sx:{color:"#c9d1d9",padding:"16px 20px",overflow:"auto"},children:t})]}))},ed={code:function(e){var n=e.children;return(0,c.jsx)(el,{children:n})},pre:function(e){var n=e.children,t=(0,er.Z)(e,["children"]);return(0,c.jsx)(eu,(0,d.Z)((0,u.Z)({},t),{children:n}))}},ex=function(e){var n=e.html,t=e.components,r=void 0===t?{}:t,i={replace:function(e){if((0,eo.Z)(e,ec.W_)&&e.attribs){var n=(0,ec.du)(e.children,i),t=(0,u.Z)({},r,ed)[e.name];if(t)return(0,c.jsx)(t,(0,d.Z)((0,u.Z)({name:e.name},e.attribs),{children:n}))}}};return(0,c.jsx)(c.Fragment,{children:(0,ec.ZP)(n,i)})},ef=function(e){var n=e.children.split("`").map(function(e,n){return n%2==1?(0,c.jsx)(el,{children:e}):e});return(0,c.jsx)(c.Fragment,{children:n})},eh=function(e){var n=e.number,t=e.title,r=e.excerpt,i=(0,er.Z)(e,["number","title","excerpt"]);return(0,c.jsx)(ei.OK,(0,d.Z)((0,u.Z)({className:"react-tabs__vertical__tab",selectedClassName:"react-tabs__vertical__tab--selected"},i),{children:(0,c.jsxs)(p.kC,{sx:{alignItems:"flex-start"},children:[(0,c.jsx)(ev,{number:n}),(0,c.jsxs)(p.xu,{sx:{ml:3,alignSelf:"center"},children:[(0,c.jsx)(p.X6,{as:"h4",sx:{color:"whiteButtonText",fontSize:"14px",fontWeight:"600"},children:(0,c.jsx)(ef,{children:t})}),r&&(0,c.jsx)(p.xv,{as:"p",sx:{mt:2,color:"textClear",fontSize:"13px",lineHeight:"24px"},children:(0,c.jsx)(ef,{children:r})})]})]})}))};eh.tabsRole="Tab";var ep,ev=function(e){var n=e.number;return(0,c.jsx)(p.kC,{sx:{height:"32px",width:"32px",alignItems:"center",justifyContent:"center",border:"1px solid #E4E2E4",borderRadius:"6px",bg:"grey07",color:"textClear",flexShrink:"0",fontSize:"13px"},children:n})},em=function(e){var n=e.isOpen,t=(0,w.v9)(function(e){return{isSimulatorAvailableForFramework:(0,F.Ql)(e),setupSteps:(0,I.qe)(e)}}),r=t.isSimulatorAvailableForFramework,i=t.setupSteps||[];return(0,x.useEffect)(function(){n&&Z.Xe.track({event:"slice-simulator:setup"})},[n]),(0,c.jsx)(M.Z,{isOpen:n,children:(0,c.jsx)(B.Z,{bodySx:{p:0,bg:"grey07",height:4===i.length?"640px":"480px"},Header:function(e){var n=e.radius;return(0,c.jsx)(p.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",pl:4,bg:"grey07",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:(0,c.jsx)(p.X6,{sx:{fontSize:"14px",fontWeight:"600"},as:"h5",children:"Set up the simulator"})})},children:(0,c.jsxs)(ei.mQ,{defaultFocus:!0,className:"react-tabs__vertical",children:[(0,c.jsx)(ei.td,{className:"react-tabs__vertical__tab-list",children:i.map(function(e,n){return(0,c.jsx)(eh,{number:n+1,title:e.title,excerpt:e.description},e.title)})}),r?(0,c.jsx)(c.Fragment,{children:i.map(function(e){return(0,c.jsx)(ei.x4,{selectedClassName:"react-tabs__vertical__tab-panel--selected",className:"react-tabs__vertical__tab-panel",children:(0,c.jsx)(ex,{html:e.body})},e.title)})}):(0,c.jsx)(ei.x4,{selectedClassName:"react-tabs__vertical__tab-panel--selected",className:"react-tabs__vertical__tab-panel",children:"Framework not supported."})]})})})},eg=t(53559);(ep=o||(o={})).LOADING_SETUP="LOADING_SETUP",ep.LOADING_IFRAME="LOADING_IFRAME",ep.FAILED_SETUP="FAILED_SETUP",ep.FAILED_CONNECT="FAILED_CONNECT",ep.SUCCESS="SUCCESS";var eb=function(e){var n,t,i=e.slice,s=e.variation,a=(0,W.Z)(),l=a.checkSimulatorSetup,m=a.connectToSimulatorIframe,g=a.saveSliceMock,b=(0,w.v9)(function(e){return{simulatorUrl:(0,F.x0)(e),iframeStatus:(0,I.NL)(e),manifestStatus:(0,I.tD)(e).manifest,isWaitingForIFrameCheck:(0,I.oM)(e),endpoints:(0,F.gZ)(e)}}),C=b.simulatorUrl,j=b.iframeStatus,S=b.manifestStatus,k=b.isWaitingForIFrameCheck,y=b.endpoints,E=(0,x.useMemo)(function(){return{embedsUrl:y.PrismicOembed,env:"prod",unsplashUrl:y.PrismicUnsplash}},[y.PrismicOembed,y.PrismicUnsplash]),_=(0,x.useRef)(null),R=(0,x.useCallback)(function(){return l()},[]);(0,x.useEffect)(function(){l(),Z.Xe.track({event:"slice-simulator:open"})},[]);var z=(0,x.useRef)(!1);(0,x.useEffect)(function(){z.current=!0},[]);var N=function(e){z.current&&(z.current=!1,Z.Xe.track({event:"editor:widget-used",sliceId:e}))},O="ko"===S?o.FAILED_SETUP:"ok"===S?k||!j?o.LOADING_IFRAME:"ok"!==j?o.FAILED_CONNECT:o.SUCCESS:(0,o.LOADING_SETUP);(0,x.useEffect)(function(){if(O===o.FAILED_SETUP&&!_.current){var e=setInterval(function(){R()},3e3);_.current=e}},[O]),(0,x.useEffect)(function(){"ok"===S&&(_.current&&clearInterval(_.current),m())},[S]),(0,x.useEffect)(function(){O===o.FAILED_CONNECT&&Z.Xe.track({event:"slice-simulator:is-not-running"})},[O]),(0,x.useEffect)(function(){O===o.SUCCESS&&eo(!0)},[O]);var A=function(){m()},M=(0,x.useState)(T[r.DESKTOP]),U=M[0],P=M[1],B=(0,x.useMemo)(function(){return eg.id.fromSM(i.model)},[i.model]),H=(0,x.useState)(null),X=H[0],K=H[1],Y=(0,x.useMemo)(function(){var e,n;return(null==X?void 0:X.variation)===s.id?X:(null===(e=i.mocks)||void 0===e?void 0:e.find(function(e){return e.variation===s.id}))||{__TYPE__:"SharedSliceContent",variation:n=s.id,primary:{},items:[]}},[X,s.id]),J=(0,x.useMemo)(function(){return(0,q.renderSliceMock)(B,Y).id},[]),Q=(0,x.useCallback)(function(){return function(){return(0,d.Z)((0,u.Z)({},(0,q.renderSliceMock)(B,Y)),{id:J})}},[B,Y]),en=G(Q,800,[B,Y,]),er=(0,x.useState)(!1),ei=er[0],eo=er[1];return(0,c.jsxs)(p.kC,{sx:{flexDirection:"column",height:"100vh"},children:[(0,c.jsx)(em,{isOpen:O===o.FAILED_SETUP}),(0,c.jsx)(D,{slice:i,variation:s,isDisplayEditor:ei,actionsDisabled:O!==o.SUCCESS,toggleIsDisplayEditor:function(){return eo(!ei)},onSaveMock:function(){return X&&g({libraryID:i.from,sliceID:i.model.id,mocks:(i.mocks||[]).filter(function(e){return e.variation!==X.variation}).concat(X)})}}),(0,c.jsx)(p.xu,{sx:{flex:1,bg:"grey07",p:3,display:"flex",flexDirection:"column",height:"calc(100% - 73px - 16px)"},children:(0,c.jsxs)(p.kC,{sx:{flex:1,flexDirection:"row",position:"relative",width:"100%",height:"100%"},children:[(0,c.jsxs)(v.xR,{sx:{display:"flex",height:"100%",flexDirection:"column",flex:1,minWidth:0},children:[(0,c.jsx)(L,{handleScreenSizeChange:P,screenDimensions:U,actionsDisabled:O!==o.SUCCESS}),O===o.FAILED_CONNECT?(0,c.jsx)(et,{onRetrigger:A}):null,O===o.SUCCESS?(0,c.jsx)($,{apiContent:en,screenDimensions:U,simulatorUrl:C}):(0,c.jsx)(c.Fragment,{children:O===o.LOADING_IFRAME?(0,c.jsxs)(ee,{children:[(0,c.jsx)(p.$j,{variant:"styles.spinner"}),(0,c.jsx)($,{apiContent:en,screenDimensions:U,simulatorUrl:C,dryRun:!0})]}):null})]}),O===o.SUCCESS&&ei?(0,c.jsx)(p.kC,{className:"editor",sx:{flexDirection:"column",marginLeft:"16px",maxWidth:"440px",minWidth:"440px",overflowY:"auto"},children:(0,c.jsx)(h.SV,{renderError:function(){return(0,c.jsx)(h.Iq,{title:"Editor error",description:"An error occurred while rendering the editor."})},children:(0,c.jsx)(x.Suspense,{children:(0,c.jsx)(f.kS,{config:E,content:Y,onContentChange:function(e){K(e),N(i.model.id)},sharedSlice:B},s.id)})})}):null]})}),!!(null===(n=i.screenshots[s.id])||void 0===n?void 0:n.url)&&(0,c.jsx)(V,{sliceName:i.model.name,screenshotUrl:null===(t=i.screenshots[s.id])||void 0===t?void 0:t.url})]})},eC=t(28684),ej=(0,t(57880).y)(eb);function eS(){var e=(0,eC.Z)().slice;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l(),{children:(0,c.jsxs)("title",{children:[e?"Simulator: ".concat(e.model.name):"Simulator"," - Slice Machine"]})}),(0,c.jsx)(ej,{})]})}},28684:function(e,n,t){"use strict";var r=t(92521),i=t(90374),o=t(5632),s=t(2784),c=t(56580),a=function(){var e=(0,o.useRouter)(),n=(0,i.Z)().initSliceStore,t=(0,c.v9)(function(n){return{slice:(0,r.tL)(n,e.query.lib,e.query.sliceName)}}).slice;if((0,s.useEffect)(function(){t?n(t):e.replace("/")},[n,t,e]),!t)return{};var a=t.model.variations.find(function(n){return n.id===e.query.variation});return a?{slice:t,variation:a}:(e.replace("/"),{})};n.Z=a},57880:function(e,n,t){"use strict";t.d(n,{y:function(){return c}});var r=t(62230),i=t(52322);t(2784);var o=t(28684),s=t(95583),c=function(e){return function(n){var t=n.pageProps,c=(0,o.Z)(),a=c.slice,l=c.variation;return a&&l?(0,i.jsx)(e,(0,r.Z)({slice:a,variation:l},t)):((0,s.gx)("/"),null)}}}},function(e){e.O(0,[789,872,851,505,774,888,179],function(){return e(e.s=30755)}),_N_E=e.O()}]);
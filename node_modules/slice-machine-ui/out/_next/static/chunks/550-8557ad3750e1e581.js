(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{56577:function(e,n,t){"use strict";t.d(n,{z:function(){return d}});var r=t(62230),o=t(85244),s=t(98240),a=t(52322),c=t(2784),i=t(75289),l=function(e,n){return e?"".concat(e,"-").concat(n):""},u=function(e){switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},d=(0,c.forwardRef)(function(e,n){var t=e.label,c=e.Icon,d=e.type,m=e.form,p=e.isLoading,f=void 0!==p&&p,h=e.disabled,x=e.onClick,y=e.sx,v=e.iconSize,b=void 0===v?16:v,g=e.iconFill,j=e.variant,_=void 0===j?"primary":j,Z=(0,s.Z)(e,["label","Icon","type","form","isLoading","disabled","onClick","sx","iconSize","iconFill","variant"]);return(0,a.jsx)(i.zx,(0,o.Z)((0,r.Z)({ref:n,sx:(0,r.Z)((0,o.Z)((0,r.Z)({},void 0===y?{}:y),{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}),f?{cursor:"wait !important"}:{}),type:d,form:m,disabled:void 0!==h&&h||f,onClick:f?void 0:x,variant:_},Z),{children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.$j,{size:b,color:u(_),"data-cy":l(Z["data-cy"],"spinner")}),c&&t]}):(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)(c,{size:b,fill:g,"data-cy":l(Z["data-cy"],"icon")}),t]})}))})},70041:function(e,n,t){"use strict";t.d(n,{W:function(){return c}});var r=t(62230),o=t(52322);t(2784);var s=t(63397),a=t(75289),c=function(e){var n=e.name,t=e.label,c=e.placeholder,i=e.error,l=e.dataCy,u=e.onChange;return(0,o.jsxs)(a.xu,{mb:3,children:[(0,o.jsx)(a.__,{htmlFor:n,mb:2,children:t}),(0,o.jsx)(s.gN,(0,r.Z)({name:n,type:"text",placeholder:c,as:a.II,autoComplete:"off"},u?{onChange:u}:null,l?{"data-cy":l}:null)),i?(0,o.jsx)(a.xv,{"data-cy":l?"".concat(l,"-error"):"input-error",sx:{color:"error",mt:1},children:i}):null]})}},68780:function(e,n,t){"use strict";var r=t(62230),o=t(85244),s=t(52322),a=t(37149),c=t.n(a),i=t(25812),l=t(63397),u=t(75289),d=t(56577),m=t(54132);n.Z=function(e){var n=e.children,t=e.close,a=e.isOpen,p=e.formId,f=e.validate,h=e.onSubmit,x=e.widthInPx,y=e.initialValues,v=e.content.title,b=e.cardProps,g=e.omitFooter,j=void 0!==g&&g,_=e.isLoading,Z=void 0!==_&&_,C=e.buttonLabel,S=void 0===C?"Save":C,z=e.dataCy,T=e.actionMessage;return c().setAppElement("#__next"),(0,s.jsx)(i.Z,{isOpen:a,shouldCloseOnOverlayClick:!0,onRequestClose:t,contentLabel:v,style:{content:{width:null!=x?x:"900px"}},children:(0,s.jsx)(l.J9,{validateOnChange:!0,initialValues:y,validate:function(e){return f?f(e):void 0},onSubmit:function(e){h(e)},children:function(e){var a=e.isValid,c=e.isSubmitting,i=e.values,f=e.errors,h=e.touched,x=e.setFieldValue,y=e.setValues;return(0,s.jsx)(l.l0,(0,o.Z)((0,r.Z)({id:p},null!=z?{"data-cy":z}:null),{children:(0,s.jsx)(m.Z,(0,o.Z)((0,r.Z)({borderFooter:!0,footerSx:{p:3,position:"sticky",bottom:0,background:"gray"},bodySx:{px:4,py:4},sx:{border:"none"}},b),{Header:function(e){var n=e.radius;return(0,s.jsxs)(u.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",pl:4,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:function(e){var n;return"1px solid ".concat(null===(n=e.colors)||void 0===n?void 0:n.borders)}},children:[(0,s.jsx)(u.X6,{sx:{fontSize:"20px"},children:v}),(0,s.jsx)(u.x8,{type:"button",onClick:t})]})},Footer:j?null:(0,s.jsxs)(u.kC,{sx:{alignItems:"space-between"},children:[(0,s.jsx)(u.kC,{sx:{fontSize:"14px",alignItems:"center"},children:"function"==typeof T?T(e):T}),(0,s.jsxs)(u.kC,{sx:{ml:"auto"},children:[(0,s.jsx)(u.zx,{mr:2,type:"button",onClick:t,variant:"secondary",disabled:c||Z,children:"Cancel"}),(0,s.jsx)(d.z,{label:S,form:p,type:"submit",disabled:!a||c||Z,isLoading:c||Z,sx:{fontWeight:"400",paddingBlock:"8px",paddingInline:"16px",fontSize:"14px",borderRadius:"4px"}})]})]}),children:n({isValid:a,isSubmitting:c,values:i,errors:f,touched:h,setFieldValue:x,setValues:y})}))}))}})})}},2754:function(e,n,t){"use strict";t.d(n,{R$:function(){return u},Qj:function(){return h},T9:function(){return m},nf:function(){return f},u2:function(){return d},_T:function(){return p}});var r=t(67557),o=t(62230),s=t(85244),a=t(98240),c=t(52322),i=t(6277),l=t(22715);t(69143);var u=function(e){var n=e.backgroundImage,t=e.style,l=(0,a.Z)(e,["backgroundImage","style"]),u=void 0!==n;return(0,c.jsx)("article",(0,s.Z)((0,o.Z)({},l),{className:(0,i.Z)("_18bjhbz0 _1ecs97dez0 _1ecs97dez1 _1ecs97dez2 _1ecs97dezb _1ecs97dfiv _1ecs97dfix _1ecs97dfiz _1ecs97d3fg _1ecs97d3mt _1ecs97df0r _1ecs97df23 _1ecs97df2h _1ecs97dezp",(0,r.Z)({},"_18bjhbz1 _1ecs97dezx _1ecs97df4v",u)),style:(0,o.Z)({backgroundImage:u?"url(".concat(n,")"):void 0},t)}))},d=function(e){return(0,c.jsx)("div",(0,s.Z)((0,o.Z)({},e),{className:"_1ecs97dez0 _1ecs97dez1 _1ecs97dez2 _1ecs97dezb _1ecs97d6r8 _1ecs97d6yl _1ecs97df29 _1ecs97df2l _1ecs97dezp"}))},m=function(e){return(0,c.jsx)("div",(0,s.Z)((0,o.Z)({},e),{className:"_18bjhbz3 _1ecs97dez0 _1ecs97dez1 _1ecs97dez2 _1ecs97dezb _1ecs97dffv"}))},p=function(e){return(0,c.jsx)(l.xv,(0,s.Z)((0,o.Z)({},e),{className:"_18bjhbz4"}))},f=function(e){return(0,c.jsx)(l.xv,(0,s.Z)((0,o.Z)({},e),{className:"_18bjhbz5",color:"grey11"}))},h=function(e){return(0,c.jsx)(l.hE,(0,s.Z)((0,o.Z)({},e),{className:"_18bjhbz6 _1ecs97df95 _1ecs97dez8 _1ecs97dfdl",size:"medium",variant:"secondary"}))}},62607:function(e,n,t){"use strict";t.d(n,{_:function(){return F}});var r=t(22710),o=t(99267),s=t(52322),a=t(2784),c=t(22715),i=t(5632),l=t(90374),u=t(88932),d=t(67557),m=t(62230),p=t(85244),f=t(17064);function h(e){return Object.entries(e.json)}var x=t(81038),y=t(78656);function v(){return(v=(0,r.Z)(function(e,n){var t,r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:t=y.$[e.format],o.label=1;case 1:return o.trys.push([1,3,,4]),r=function(e){var n,t=(0,p.Z)((0,m.Z)({},e),{format:"page"}),r=h(e)[0];if(r){var o=(0,f.Z)(r,1)[0];t=function(e,n){if(function(e,n){var t,r,o,s=e.json[n];if(void 0!==s){var a=Object.values(s).find(function(e){return"Slices"===e.type});return null!==(o=null==a?void 0:a.config)&&void 0!==o?o:void 0}}(e,n))return e;var t=function(e,n){var t,r=h(e),o=r.findIndex(function(e){return(0,f.Z)(e,1)[0]===n}),s=r.flatMap(function(e){var n=(0,f.Z)(e,2),t=(n[0],n[1]);return Object.keys(t).filter(function(e){return"Slices"===t[e].type})}),a=o;do t="slices".concat(0!==a?a.toString():""),a++;while(s.includes(t));return t}(e,n);return(0,p.Z)((0,m.Z)({},e),{json:(0,p.Z)((0,m.Z)({},e.json),(0,d.Z)({},n,(0,p.Z)((0,m.Z)({},e.json[n]),(0,d.Z)({},t,{type:"Slices",fieldset:"Slice Zone"}))))})}(t,o)}return t}(e),[4,x.j.customTypes.updateCustomType({model:r})];case 2:return o.sent(),n(r),u.Am.success("".concat(t.name({start:!0,plural:!1})," converted to page type")),[3,4];case 3:return o.sent(),u.Am.error("Internal Error: ".concat(t.name({start:!0,plural:!1})," not converted to page type")),[3,4];case 4:return[2]}})})).apply(this,arguments)}var b=t(67445),g=t(75289),j=t(68780),_=t(70041),Z=t(56580),C=t(49471);function S(){return(S=(0,r.Z)(function(e){var n,t,r,s,a,c,i;return(0,o.__generator)(this,function(o){switch(o.label){case 0:n=e.model,t=e.newLabel,r=e.onSuccess,s=y.$[n.format],o.label=1;case 1:return o.trys.push([1,3,,4]),a=(0,p.Z)((0,m.Z)({},n),{label:t}),[4,x.j.customTypes.renameCustomType({model:a})];case 2:return o.sent(),r(a),u.Am.success("".concat(s.name({start:!0,plural:!1})," renamed")),[3,4];case 3:return c=o.sent(),i="Internal Error: ".concat(s.name({start:!0,plural:!1})," could not be renamed"),console.error(i,c),u.Am.error(i),[3,4];case 4:return[2]}})})).apply(this,arguments)}var z=function(e){var n,t,c,i=e.isChangesLocal,u=e.customType,d=e.format,m=e.onClose,p=null!==(n=null==u?void 0:u.label)&&void 0!==n?n:"",f=null!==(t=null==u?void 0:u.id)&&void 0!==t?t:"",h=(0,l.Z)(),x=h.renameAvailableCustomTypeSuccess,v=h.renameSelectedCustomType,b=(0,a.useState)(!1),z=b[0],T=b[1],k=(c=(0,r.Z)(function(e){return(0,o.__generator)(this,function(n){switch(n.label){case 0:if(T(!0),!i)return[3,1];return v(e.customTypeName),[3,3];case 1:return[4,function(e){return S.apply(this,arguments)}({model:u,newLabel:e.customTypeName,onSuccess:x})];case 2:n.sent(),n.label=3;case 3:return T(!1),m(),[2]}})}),function(e){return c.apply(this,arguments)}),I=(0,Z.v9)(function(e){return{customTypeLabels:(0,C.YS)(e)}}).customTypeLabels,w=y.$[d];return(0,s.jsx)(j.Z,{isOpen:!0,dataCy:"rename-custom-type-modal",widthInPx:"530px",formId:"rename-custom-type-modal-".concat(f),buttonLabel:"Rename",close:m,onSubmit:function(e){k(e)},initialValues:{customTypeName:p},isLoading:z,content:{title:"Rename a ".concat(w.name({start:!1,plural:!1}))},validate:function(e){var n=e.customTypeName,t={};return n&&n.length||(t.customTypeName="Cannot be empty."),void 0!=t.customTypeName&&I.includes(n)&&p!==n&&(t.customTypeName="".concat(w.name({start:!0,plural:!1})," name is already taken.")),Object.keys(t).length>0?t:void 0},children:function(e){var n=e.errors;return(0,s.jsx)(g.xu,{children:(0,s.jsx)(_.W,{name:"customTypeName",label:"".concat(w.name({start:!0,plural:!1})," Name"),placeholder:"A display name for the ".concat(w.name({start:!1,plural:!1})),error:n.customTypeName,dataCy:"custom-type-name-input"})})}})},T=t(25812),k=t(59326),I=t(54132),w=t(65186),N=t(56577);function L(){return(L=(0,r.Z)(function(e){var n,t,r,s,a;return(0,o.__generator)(this,function(o){switch(o.label){case 0:n=e.customType,t=e.onSuccess,r=y.$[n.format],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,x.j.customTypes.deleteCustomType({id:n.id})];case 2:return o.sent(),t(),u.Am.success("".concat(r.name({start:!0,plural:!1})," deleted")),[3,4];case 3:return s=o.sent(),a="Internal Error: ".concat(r.name({start:!0,plural:!1})," could not be deleted"),console.error(a,s),[3,4];case 4:return[2]}})})).apply(this,arguments)}var R=function(e){var n,t=e.customType,c=e.format,i=e.onClose,u=e.onDeleteCustomTypeSuccess,d=y.$[c],m=(0,a.useState)(!1),p=m[0],f=m[1],h=(0,l.Z)().deleteCustomTypeSuccess,x=(n=(0,r.Z)(function(){return(0,o.__generator)(this,function(e){switch(e.label){case 0:return f(!0),[4,function(e){return L.apply(this,arguments)}({customType:t,onSuccess:function(){return h(t.id)}})];case 1:return e.sent(),u(),[2]}})}),function(){return n.apply(this,arguments)}),v=(0,k.B7)().theme;return(0,s.jsx)(T.Z,{isOpen:!0,shouldCloseOnOverlayClick:!0,style:{content:{maxWidth:612}},onRequestClose:function(){return i()},children:(0,s.jsx)(I.Z,{bodySx:{p:0,bg:"white",position:"relative",height:"100%",padding:16},footerSx:{position:"sticky",bottom:0,p:0},sx:{border:"none",overflow:"hidden"},borderFooter:!0,Header:function(){var e;return(0,s.jsxs)(g.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",alignItems:"center",justifyContent:"space-between",borderBottom:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:[(0,s.jsxs)(g.kC,{sx:{alignItems:"center"},children:[(0,s.jsx)(w.$vK,{size:20,color:null===(e=v.colors)||void 0===e?void 0:e.greyIcon}),(0,s.jsxs)(g.X6,{sx:{fontSize:"14px",fontWeight:"bold",ml:1},children:["Delete"," ",d.name({start:!1,plural:!1})]})]}),(0,s.jsx)(g.x8,{type:"button",onClick:function(){return i()}})]})},Footer:function(){return(0,s.jsxs)(g.kC,{sx:{justifyContent:"flex-end",height:64,alignItems:"center",paddingRight:16,borderTop:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorders))},backgroundColor:"gray"},children:[(0,s.jsx)(N.z,{label:"Cancel",variant:"secondary",onClick:function(){return i()},sx:{mr:"10px",fontWeight:"bold",color:"grey12",borderRadius:6}}),void 0!==t&&(0,s.jsx)(N.z,{label:"Delete",variant:"danger",isLoading:p,onClick:function(){x()},sx:{minHeight:39,minWidth:78}})]})},children:(0,s.jsxs)("div",{children:["This action will immediately make the following change:",(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{children:["Delete the"," ",(0,s.jsxs)(g.xv,{sx:{fontWeight:"bold"},children:["customtypes/",null==t?void 0:t.id,"/"]})," ","directory."]})}),"The next time you push your changes to Prismic, the following change will happen:",(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{children:["Remove the"," ",d.name({start:!1,plural:!1})," and any associated Documents from your repository."]})})]})})})},F=function(e){var n,t=e.format,u=e.customType,d=e.isChangesLocal,m=(0,i.useRouter)(),p=(0,l.Z)().saveCustomTypeSuccess,f=(0,a.useState)(!1),h=f[0],x=f[1],y=(0,a.useState)(!1),g=y[0],j=y[1],_=(0,a.useState)(!1),Z=_[0],C=_[1],S=(n=(0,r.Z)(function(){var e,n;return(0,o.__generator)(this,function(t){switch(t.label){case 0:return C(!0),[4,function(e,n){return v.apply(this,arguments)}(u,p)];case 1:return t.sent(),e=b.cd.custom.getBuilderPagePathname(u.id),m.asPath===e&&(n=b.cd.page.getBuilderPagePathname(u.id),m.replace(n)),C(!1),[2]}})}),function(){return n.apply(this,arguments)}),T=function(){var e,n=b.cd[null!==(e=u.format)&&void 0!==e?e:"custom"].tablePagePathname;m.asPath!==n?m.replace(n):x(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.h_,{modal:!0,children:[(0,s.jsx)(c.$F,{disabled:Z,children:(0,s.jsx)(c.zx,{loading:Z,startIcon:"moreVert",variant:"secondary","data-testid":"editDropdown"})}),(0,s.jsxs)(c.AW,{align:"end",children:[(0,s.jsx)(c.Xi,{startIcon:(0,s.jsx)(c.I5,{name:"edit"}),onSelect:function(){j(!0)},children:"Rename"}),"custom"===t&&!d&&(0,s.jsx)(c.Xi,{startIcon:(0,s.jsx)(c.I5,{name:"driveFileMove"}),onSelect:function(){S()},children:"Convert to page type"}),(0,s.jsx)(c.Xi,{color:"tomato",startIcon:(0,s.jsx)(c.I5,{name:"delete"}),onSelect:function(){x(!0)},children:"Remove"})]})]}),h?(0,s.jsx)(R,{format:t,customType:u,onClose:function(){return x(!1)},onDeleteCustomTypeSuccess:T}):null,g?(0,s.jsx)(z,{format:t,customType:u,isChangesLocal:d,onClose:function(){return j(!1)}}):null]})}},69143:function(){}}]);